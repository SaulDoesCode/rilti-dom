{const a=Object.defineProperty,b=Object.getOwnPropertyDescriptor,c=window,d=document,e=void 0,f=(a,b=a.length,...c)=>b<=c.length?a(...c):f.bind(e,a,b,...c),g=Array.isArray,h=(...a)=>(...b)=>a.some((a)=>a(...b)),i=(a)=>a&&a.constructor===Object,j=(a)=>a instanceof Function,k=(a)=>a instanceof Boolean,l=(a)=>'string'==typeof a,m=(a)=>'number'==typeof a,n=(a)=>a===e||a===null,o=h(l,k,m),p=(a)=>a&&(g(a)||!j(a)&&0==a.length%1),q=(a)=>a&&a.nodeType,r=h(q,p,o),s=console.error.bind(console),t=(c={},d,e=!1,f=Object.keys(d))=>(f.forEach((f)=>{e&&(!e||f in c)||a(c,f,b(d,f))}),c),u=(a,...b)=>setTimeout(a,0,...b),v=(a,b)=>{if(!n(a))if(i(a))for(const c in a)b(a[c],c,a);else if(a.forEach)a.forEach(b);else{let c=0;if(a.length)for(;c!==a.length;)b(a[c],c++,a);else if(0==a%1)for(;c!==a;)b(c++,a)}return a},w=(a,b=[])=>g(a)?(v(a,(a)=>{g(a)?w(a,b):b.push(a)}),b):[a],x=(a,b=d)=>q(a)?a:x(b).querySelector(a),y=(a,b=d)=>b===a||!!(16&b.compareDocumentPosition(a)),z=f((a,b,c,d,f=!1)=>{if(l(b)&&(b=x(b)),i(c))return v(c,(d,e)=>{c[e]=z(a,b,e,d,f)});if(!j(d))return z.bind(e,a,b,c);d=d.bind(b);const g=(c)=>{d(c,b),a&&h()},h=()=>(b.removeEventListener(c,g),m),k=(d)=>(a=!!d,b.addEventListener(c,g,f),m),m={handler:g,type:c,on:k,off:h,once:k.bind(e,!0)};return k(a)},3),A={get:(a,b)=>(c,d,e)=>a(c,b,d,e)},B=new Proxy(z(!0),A),C=new Proxy(z(!1),A),D=(a)=>{'complete'===d.readyState||d.body?u(a):c.addEventListener('DOMContentLoaded',a)},E=(a)=>j(a)?E(a()):q(a)?a:d.createRange().createContextualFragment(a),F=(a)=>n(a)?d.createDocumentFragment():E(a),G=(a,b,c)=>{a.dispatchEvent(new CustomEvent(b,{detail:c}))},H=(a,b=F())=>(w(a).forEach((a)=>{b.appendChild(a=E(a)),N(a)}),b),I={css:f((a,b,c)=>(i(b)?v(b,(b,c)=>I.css(a,c,b)):l(b)&&('--'===b.slice(0,2)?a.style.setProperty(b,c):a.style[b]=c),a),2),Class:f((a,b,c=!a.classList.contains(b))=>{const d=(b)=>k(c)?c:!a.classList.contains(b);return i(b)?v(b,(b,c)=>{I.Class(a,c,d(b))}):(l(b)&&(b=b.split(' ')),g(b)&&v(b,(b)=>{a.classList[d(c)?'add':'remove'](b)})),a},2),hasClass:f((a,b)=>a.classList.contains(b)),attr:f((b,a,c)=>{if(i(a))v(a,(c,d)=>{b[n(c)?'removeAttribute':'setAttribute'](d,c)});else if(l(a)){if(!o(c))return b.getAttribute(a);b.setAttribute(a,c)}return b},2),rmAttr(a,...b){return b.forEach((b)=>a.removeAttribute(b)),a},emit:G,append:f((a,...b)=>(b=H(b),S(a).then((a)=>a.appendChild(b)),a),2),prepend:f((a,...b)=>(b=H(b),S(a).then((a)=>a.prepend(b)),a),2),remove(a,b){return m(b)?setTimeout(()=>I.remove(a),b):y(a)&&a.remove(),a},mutate:(a,b,c=!0)=>v(b,(d,e)=>{if(g(d)||(d=[d]),e in I){const c=I[e](a,...d);c!==a&&(b[e]=c)}else if('class'===e||'className'===e)I.Class(a,...d);else if('children'===e||'inner'===e)a.innerHTML='',r(d)&&I.append(a,d);else if('text'===e)a.textContent=d;else if('html'===e)a.innerHTML=d;else{let f=e.substr(0,4);const g='once'===f;g||(f=e.substr(0,2));const h='on'===f;if(g||h){let c=e.substr(g?4:2);const h=z(g);b[f]||(b[f]={}),b[f][c]=c.length?h(a,c,...d):h(a,...d)}else(c||e in a)&&(j(a[e])?a[e](...d):a[e]=d)}})},J=(a)=>(b,c)=>a[k(c)?c?'add':'delete':'has'](b),K=J(new WeakSet),L=J(new WeakSet),M=(a)=>{K(a)||G(a,'create')},N=(a)=>{L(a)||(L(a,!0),G(a,'mount'))},O=(a)=>{L(a,!1),G(a,'destroy')},P='appendChild',Q=(a,b='body',c=P)=>(S(b).then((b)=>{y(b)||c===P?(!q(a)&&(a=H(a)),b[c](a),N(a)):B.mount(b,()=>{q(a)||(a=H(a)),b[c](a),N(a)})},(a)=>s('render fault: ',a)),a),R=(c,e,...f)=>{const g=q(c)?c:d.createElement(c);if(r(e)&&f.unshift(e),f.length&&'#text'!==g.nodeName&&I.append(g,f),i(e)){I.mutate(g,e,!1);const{props:c,methods:d,cycle:f}=e;if(v(c,(d,e)=>{e in g?g[e]=d:'accessors'===e?v(d,(b,c)=>{const{set:d=b,get:e=b}=b;a(g,c,{set:d.bind(g,g),get:e.bind(g,g)})}):a(g,e,b(c,e))}),v(d,(b,c)=>{a(g,c,{value:b.bind(g,g)})}),f){const{mount:a,destroy:b,create:c}=f;if(B.create(g,()=>{K(g,!0),c&&c.call(g,g)}),a)var h=B.mount(g,a.bind(g,g));(a||b)&&C.destroy(g,()=>{b&&b.call(g,g),h&&h.on()})}e.render&&Q(g,e.render)}return M(g),g},S=new Proxy(t((a,b=d)=>new Promise((c,e)=>{q(a)?c(a):'head'===a?c(d.head):l(a)?D(()=>{const f='body'===a?d.body:x(a,b);q(f)?c(f):e(new Error([400,a]))}):e(new Error([400,a]))}),{query:x,html:E,text:(a,b)=>(l(a)&&([b,a]=[a,{}]),R(new Text(b),a)),frag:F}),{get:(a,b)=>Reflect.get(a,b)||R.bind(e,b),set(a,b,c){a[b]=c}}),T=(a)=>v(a,(a,b)=>{'#'!==b[0]&&(b='#'+b),T.routes[b]=a,T.activate(b)});T.routes={},T.activate=(a)=>{if(a===location.hash&&a in T.routes){const b=T.routes[a];I.mutate(b.host,{inner:b.view})}},T.del=(a)=>delete T.routes[a],C.hashchange(c,()=>T.activate(location.hash)),new MutationObserver((a)=>a.forEach(({addedNodes:a,removedNodes:b})=>{a.length&&a.forEach((a)=>N(a)),b.length&&b.forEach((a)=>O(a))})).observe(d,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0}),c.rilti={curry:f,dom:S,domfn:I,each:v,extend:t,flatten:w,on:C,once:B,render:Q,router:T,run:D,runAsync:u,isMounted:y,isDef:(a)=>!n(a),isNil:n,isPrimitive:o,isFunc:j,isStr:l,isBool:k,isNum:m,isRenderable:r,isObj:i,isArr:g,isArrlike:p,isEl:(a)=>a&&a instanceof Element,isNode:q,isInput:(a)=>a&&(a instanceof HTMLInputElement||a instanceof HTMLTextAreaElement)}}